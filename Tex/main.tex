%CITATIONS: https://www.sharelatex.com/blog/2013/08/08/thesis-series-pt4.html

% Masters/Doctoral Thesis 
% LaTeX Template
% Version 2.4 (22/11/16)
% http://www.LaTeXTemplates.com

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[11pt, oneside, english, singlespacing, %TODO: twosided machen
%draft, % Uncomment to enable draft mode (no pictures, no links, overfull hboxes indicated)
%nolistspacing, % If the document is onehalfspacing or doublespacing, uncomment this to set spacing in lists to single
%liststotoc, % Uncomment to add the list of figures/tables/etc to the table of contents
%toctotoc, % Uncomment to add the main table of contents to the table of contents
%parskip, % Uncomment to add space between paragraphs
headsepline, % Uncomment to get a line under the header
%chapterinoneline, % Uncomment to place the chapter title next to the number on one line
%consistentlayout, % Uncomment to change the layout of the declaration, abstract and acknowledgements pages to match the default layout
]{MastersDoctoralThesis} 
\setcounter{tocdepth}{2}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc} 
\usepackage{palatino} %font style palatino
\usepackage[plain]{algorithm}
\usepackage{amsmath}
\usepackage{dsfont}
\usepackage{hyperref}
\usepackage{array}
\usepackage{graphicx}
\usepackage[nodayofweek,level]{datetime}
\hypersetup{colorlinks=false} % hides the links in the PDF but not in printed text
%others would be: \hypersetup{...  urlcolor= .. citecolor = .. allcolor = .. hidelinks }
\usepackage{pifont,calc,xcolor}
\usepackage{soul}
\usepackage{tablefootnote}
\usepackage{array}
\usepackage{ragged2e}
\usepackage{multirow}
\usepackage{footnote}
\makesavenoteenv{tabular}

\usepackage[stable]{footmisc}

\usepackage{tikz}
\usepackage{sequence_diagrams/pgf-umlsd}
\usepgflibrary{arrows} % for pgf-umlsd


%\usepackage[backend=bibtex,style=authoryear,natbib=true]{biblatex} 
\usepackage[backend=biber,natbib=true, minbibnames=5, maxbibnames=8]{biblatex} 
%\addbibresource{chapter2basics.bib}
\addbibresource{chapter3basics.bib}

%\bibliography{example.bib}


\usepackage[autostyle=true]{csquotes} 

%to include .1 files as metapost
\DeclareGraphicsRule{.1}{mps}{*}{}
\DeclareGraphicsRule{.2}{mps}{*}{}
\DeclareGraphicsRule{.3}{mps}{*}{}
\DeclareGraphicsRule{.4}{mps}{*}{}
\DeclareGraphicsRule{.5}{mps}{*}{}
\DeclareGraphicsRule{.6}{mps}{*}{}

%----------------------------------------------------------------------------------------
%	MARGIN SETTINGS
%----------------------------------------------------------------------------------------

\geometry{paper=a4paper, inner=2.5cm, outer=3.8cm, bindingoffset=.5cm, top=1.5cm, bottom=1.5cm, 
	%showframe, % Uncomment to show how the type block is set on the page
}

%----------------------------------------------------------------------------------------
%	TO INCLUDE THE CODE COMPARISONS IN THE APPENDIX
%----------------------------------------------------------------------------------------
\usepackage[scaled=0.72]{beramono}
\usepackage{parcolumns}
\usepackage{listings}
\usepackage{lscape}



\definecolor{verylightgray}{gray}{0.89}
\newlength\lsthorizontalpadding
\setlength\lsthorizontalpadding{3pt}
\newcommand*\lstnumberstyle{\ttfamily\scriptsize}
\newlength\lstnumbersep
\setlength\lstnumbersep{8pt}
\newlength\lstnumberwidth
\setlength\lstnumberwidth{\widthof{\lstnumberstyle00}+\lstnumbersep+\lsthorizontalpadding}

\newcommand{\leon}{the \leonbase{ }}
\newcommand{\leonbase}{first supervisor}

\makeatletter
\newcommand\footnoteref[1]{\protected@xdef\@thefnmark{\ref{#1}}\@footnotemark}
\makeatother
	
\lstdefinelanguage{Pseudo}{
	morekeywords={for, do, end},
	sensitive=false,
	morecomment=[l]{#},
	morestring=[b]"
}

\lstset{language=Python,
	commentstyle=\color{gray},
}
	
\lstdefinestyle{CSharp}{language=C#,
	numberblanklines=false
	,basicstyle=\ttfamily%
	,breaklines=true%
	,tabsize=2%
	,showstringspaces=false%
	,numbers=left%
	,numbersep=\lstnumbersep%
	,numberstyle=\lstnumberstyle%
	,framesep=0pt%
	,xleftmargin=\lstnumberwidth%
	,framexleftmargin=\lsthorizontalpadding%
	,xrightmargin=\lsthorizontalpadding%
	,framexrightmargin=\lsthorizontalpadding%
	,backgroundcolor=\color{verylightgray}%
	,postbreak=\ding{229}\space%
	,escapeinside={*(}{*)}
	\linespread{1.0}
}
	
\lstdefinestyle{Python}{language=Python,
	numberblanklines=false
	,basicstyle=\ttfamily%
	,breaklines=true%
	,tabsize=2%
	,showstringspaces=false%
	,numbers=left%
	,numbersep=\lstnumbersep%
	,numberstyle=\lstnumberstyle%
	,framesep=0pt%
	,xleftmargin=\lstnumberwidth%
	,framexleftmargin=\lsthorizontalpadding%
	,xrightmargin=\lsthorizontalpadding%
	,framexrightmargin=\lsthorizontalpadding%
	,backgroundcolor=\color{verylightgray}%
	,postbreak=\ding{229}\space%
	,escapeinside={*(}{*)}
	\linespread{1.0}
}

%for multi-line-tables
\newcommand{\blap}[1]{\smash[b]{{\def\arraystretch{1}\tabcolsep=0pt \begin{tabular}[t]{@{}l@{}}#1\end{tabular}}}}


%------------- for code inline in the text-----------------------------------------------
\definecolor{evenmorelightgray}{gray}{0.95}
%\newcommand{\inlinecode}[1]{\colorbox{verylightgray}{\lstinline[basicstyle=\ttfamily\color{white}]{#1}}}


%----------------------------------------------------------------------------------------
%	TIKZ STUFF
%----------------------------------------------------------------------------------------


\usepackage{tikz}
\usetikzlibrary{arrows,positioning} 
\tikzset{
	%Define style for boxes
	punkt/.style={
		rectangle,
		rounded corners,
		draw=black, very thick,
		text width=6.5em,
		minimum height=2em,
		text centered}
}

\usetikzlibrary{shadows}

\newcommand*\keystroke[1]{%
	\raisebox{1px}{%
		\tikz[baseline=(key.base)]
		\node[%
		draw,
		fill=white,
		drop shadow={shadow xshift=0.25ex,shadow yshift=-0.25ex,fill=black,opacity=0.75},
		rectangle,
		rounded corners=2pt,
		inner sep=2pt,
		line width=0.5pt,
		font=\scriptsize\sffamily
		](key) {#1{\tiny\strut}}%  %originally #1\strut
		;
	}\hspace*{-0.37em}
}

%----------------------------------------------------------------------------------------
%	THESIS INFORMATION
%----------------------------------------------------------------------------------------


\thesistitle{Controlling Self-Driving Race Cars with Deep Neural Networks} %print with \ttitle

\supervisor{Leon Sütfeld \\ Prof. Dr. Gordon Pipa} %print with \supname
\examiner{}
\degree{Bachelor of Science} %print with \degreename
\author{Christoph Stenkamp} %print with \authorname
\addresses{}
\subject{Cognitive Science} %not currently used in the template, print with \subjectname
\keywords{} %not currently used in the template, print with \keywordnames
\university{University of Osnabrück} % Your university's name and URL, this is used in the title page and abstract, print it elsewhere with \univname
\department{department of neuroinformatics} % Your department's name and URL, this is used in the title page and abstract, print it elsewhere with \deptname
\group{\href{http://researchgroup.university.com}{Research Group Name}} % Your research group's name and URL, this is used in the title page, print it elsewhere with \groupname
\faculty{\href{http://faculty.university.com}{Faculty Name}} % Your faculty's name and URL, this is used in the title page and abstract, print it elsewhere with \facname

\AtBeginDocument{
	\hypersetup{pdftitle=\ttitle} 
	\hypersetup{pdfauthor=\authorname} 
	\hypersetup{pdfkeywords=\keywordnames} 
}

\newlength{\ucht}
\AtBeginDocument{\settoheight{\ucht}{A}}

\begin{document}
	
	\frontmatter % Use roman page numbering style (i, ii, iii, iv...) for the pre-content pages
	
	\pagestyle{plain} % Default to the plain heading style until the thesis style is called for the body content
	

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

	\begin{titlepage}
		\begin{center}
			
			\includegraphics[scale = 0.7]{Logo} % University/department logo - uncomment to place it
			
			\vspace*{.06\textheight}
			\HRule \\[0.4cm] % Horizontal line
			{\huge \bfseries \ttitle\par}\vspace{0.4cm} % Thesis title
			\HRule \\[1.5cm] % Horizontal line
			
			%\vspace*{.06\textheight}
			{\scshape\LARGE \univname\par}\vspace{.5cm} % University name
			
			{\scshape\Large \deptname \par}\vspace{1.5cm}
			
			\textsc{\Large Bachelor's Thesis}\\[0.5cm] % Thesis type
			
			\vspace*{.1\textheight} 
			\begin{minipage}[t]{0.4\textwidth}
				\begin{flushleft} \large
					\emph{Author:}\\
					\authorname % Author name - remove the \href bracket to remove the link
				\end{flushleft}
			\end{minipage}
			\begin{minipage}[t]{0.4\textwidth}
				\begin{flushright} \large
					\emph{Supervisors:} \\
					\supname % Supervisor name - remove the \href bracket to remove the link  
				\end{flushright}
			\end{minipage}\\[3cm]

			\vfill
			Osnabrück,\\
			\today
			
		\end{center}
	\end{titlepage}	

	%----------------------------------------------------------------------------------------
	%	ABSTRACT PAGE
	%----------------------------------------------------------------------------------------
	
	\begin{abstract}
		\addchaptertocentry{\abstractname} % Add the abstract to the table of contents
		State-of-the-art self-driving cars rely on handcrafted algorithms to control the car's movement. As those systems rely on complete understanding of the environment, tactical decisions such as optimizing its speed are not considered as factor in their driving profile.
		In this thesis, a racing simulation will be paired with state-of-the-art deep learning techniques to investigate how to maximize a self-driving car’s operational capabilities. The racing simulation was given as a game implemented with the Unity game engine, to which this thesis adds the capabilities to be played and learned using artificial agents.
		After discussing the implementation of environment and agent, first experiments are conducted concerning the best reward-function, the effect of supervised pre-training and required inputs to the agent.
	\end{abstract}

	%----------------------------------------------------------------------------------------
	%	PREFACE PAGE
	%----------------------------------------------------------------------------------------

%	\begin{preface}{\authorname}{Osnabrück, \today}
%		\addchaptertocentry{\prefacename}
%		\noindent This document was written as the author’s bachelor thesis at the \deptname~at the \univname~during summer 2017 and is an original and independent work by the author \authorname.
%	\end{preface}



	
	%----------------------------------------------------------------------------------------
	%	ACKNOWLEDGEMENTS
	%----------------------------------------------------------------------------------------
	
	\begin{acknowledgements}
		\addchaptertocentry{\acknowledgementname} % Add the acknowledgements to the table of contents
		This thesis is dedicated to my friends and family.\\
		A big thanks goes to my supervisors as well as my proof-readers, and also to Alex for his help his code.\\
		I am most grateful to my girlfriend Marie, who had the hard task of all: Enduring me while writing this thesis, while consistently proof-reading and helping me focus.
	\end{acknowledgements}
	
	
	%----------------------------------------------------------------------------------------
	%	QUOTATION PAGE
	%----------------------------------------------------------------------------------------
	
%	\newpage
%	\vspace*{0.2\textheight}
%	
%	\noindent\enquote{\itshape There are no surprising facts, only models that are surprised by facts; and if a model is surprised by the facts, it is no credit to that model.}\bigbreak
%	
%	\hfill Eliezer Yudkowsky


	%----------------------------------------------------------------------------------------
	%	LIST OF CONTENTS/FIGURES/TABLES PAGES
	%----------------------------------------------------------------------------------------
	
	\tableofcontents % Prints the main table of contents
%	\addchaptertocentry{Table of Contents} %TODO: das ist die falsche seite!!!
	
	\listoffigures % Prints the list of figures
%	\addchaptertocentry{List of Figures}
	
%	\listoftables % Prints the list of tables
%	\addchaptertocentry{List of Tables}
	
	\listofalgorithms
%	\addchaptertocentry{List of Algorithms}
	%https://tex.stackexchange.com/questions/100346/typesetting-listofalgorithms-like-listoffigures-and-listoftables-using-titletoc
	%http://latex.org/forum/viewtopic.php?f=59&t=26383
	
	%----------------------------------------------------------------------------------------
	%	ABBREVIATIONS
	%----------------------------------------------------------------------------------------
	\newcommand{\abbrevtext}{The abbreviations used throughout the work are compiled in the following list below. Note that the abbreviations denote the singular form of the abbreviated words. Whenever the plural forms is needed, an s is added. Thus, for example, whereas ANN abbreviates \textit{artificial neural network}, the abbreviation of\textit{ artificial neural networks} is written as ANNs.}

	\begin{abbreviations}{ll}[\abbrevtext] % Include a list of abbreviations (a table of two columns)
		
%		\addchaptertocentry{\abbrevname}
		\textbf{ANN}	& \textbf{A}rtificial \textbf{N}eural \textbf{N}etwork\\
		\textbf{API}	& \textbf{A}pplication \textbf{P}rogramming \textbf{I}nterface\\
		\textbf{CNN} 	& \textbf{C}onvolutional (artificial) \textbf{N}eural \textbf{N}etwork\\
		\textbf{CPU} 	& \textbf{C}entral \textbf{P}rocessing \textbf{U}nit\\
		\textbf{DDDQN} 	& \textbf{D}ueling \textbf{D}eep-\textbf{D}ouble\textbf{Q}-\textbf{N}etwork\\
		\textbf{DDQN} 	& \textbf{D}eep-\textbf{D}ouble\textbf{Q}-\textbf{N}etwork\\
		\textbf{DDPG} 	& \textbf{D}eep \textbf{D}eterministic \textbf{P}olicy \textbf{G}radient - Network\\
		\textbf{DPG} 	& \textbf{D}eterministic \textbf{P}olicy \textbf{G}radient\\
		\textbf{DQN} 	& \textbf{D}eep-\textbf{Q}-\textbf{N}etwork\\
		\textbf{FPS} 	& \textbf{F}rames \textbf{P}er \textbf{S}econd\\
		\textbf{GUI} 	& \textbf{G}raphical \textbf{U}ser \textbf{I}nterface\\
		\textbf{MDP}	& \textbf{M}arkov \textbf{D}ecision \textbf{P}rocess\\
		\textbf{PG}	    & \textbf{P}olicy \textbf{G}radient\\
		\textbf{POMDP} 	& \textbf{P}artially \textbf{O}bserved \textbf{M}arkov \textbf{D}ecision \textbf{P}rocess\\
		\textbf{TORCS}  & \textbf{T}he \textbf{O}pen \textbf{R}acing \textbf{C}ar \textbf{S}imulator \textit{(software)}\\
		
	\end{abbreviations}
	
	%----------------------------------------------------------------------------------------
	%	SYMBOLS
	%----------------------------------------------------------------------------------------
	
	\begin{symbols}{lll} % Include a list of Symbols (a three column table)
		
		AUßERDEM NOCH NE SEITE wo ich die notation von terms erkläre... also codefunc und codeobj undso...
		
%		\addchaptertocentry{\symbolsname}
		%TODO: die hier schöner, mit text drüber a la einheitliche symbole etc, und spaltennamen!
		
%		$a$ & distance & \si{\meter} \\
%		$P$ & power & \si{\watt} (\si{\joule\per\second}) \\
%		%Symbol & Name & Unit \\
%		
%		\addlinespace % Gap to separate the Roman symbols from the Greek (innerhalb derer: ALPHABETISCH)
%		
%		$\omega$ & angular frequency & \si{\radian} \\
		
	\end{symbols}
	
	%----------------------------------------------------------------------------------------
	%	DEDICATION
	%----------------------------------------------------------------------------------------
	
%	\dedicatory{For my friends, family, and especially Marie.} 
	
	%----------------------------------------------------------------------------------------
	%	THESIS CONTENT - CHAPTERS
	%----------------------------------------------------------------------------------------
	
	\mainmatter % Begin numeric (1,2,3...) page numbering
	
	\pagestyle{thesis} % Return the page headers back to the "thesis" style
	
	% Include the chapters of the thesis as separate files from the Chapters folder
	% Uncomment the lines as you write the chapters
	
	\include{Chapters/Chapter1}
	\include{Chapters/Chapter2} 
	\include{Chapters/Chapter3}
	\include{Chapters/Chapter4} 
	\include{Chapters/Chapter5} 
	\include{Chapters/Chapter6} 
	
	%----------------------------------------------------------------------------------------
	%	THESIS CONTENT - APPENDICES
	%----------------------------------------------------------------------------------------
	
	\appendix % Cue to tell LaTeX that the following "chapters" are Appendices
	
	% Include the appendices of the thesis as separate files from the Appendices folder
	% Uncomment the lines as you write the Appendices
	
	\include{Appendices/AppendixA}
	\restoregeometry
	\include{Appendices/AppendixB}
	\restoregeometry
	\include{Appendices/AppendixC}
	\restoregeometry
	\include{Appendices/AppendixD}
	\restoregeometry
		

	%----------------------------------------------------------------------------------------
	%	BIBLIOGRAPHY
	%----------------------------------------------------------------------------------------
	
	
	\printbibliography[heading=bibintoc]
	
	%----------------------------------------------------------------------------------------
	%	DECLARATION PAGE
	%----------------------------------------------------------------------------------------
	
	\begin{declaration}
		\addchaptertocentry{\authorshipname} % Add the declaration to the table of contents
		\noindent I, \authorname, hereby certify that the work presented here is, to the best of my knowledge and belief, original and the result of my own investigations, except as acknowledged, and has not been submitted, either in part or whole, for a degree at this or any other university.\\
		
		\vspace{10px}
		\noindent \rule[-0.3em]{25em}{0.5pt}\\ % This prints a line for the signature
		signature\\
		
		\vspace{4px}
		\noindent \rule[-0.3em]{25em}{0.5pt}\\ % This prints a line to write the date		
		city, date
		
%		\noindent I, \authorname, declare that this thesis titled, \enquote{\ttitle} and the work presented in it are my own. I confirm that:
%		
%		\begin{itemize} 
%			\item This work was done wholly or mainly while in candidature for a research degree at this University.
%			\item Where any part of this thesis has previously been submitted for a degree or any other qualification at this University or any other institution, this has been clearly stated.
%			\item Where I have consulted the published work of others, this is always clearly attributed.
%			\item Where I have quoted from the work of others, the source is always given. With the exception of such quotations, this thesis is entirely my own work.
%			\item I have acknowledged all main sources of help.
%			\item Where the thesis is based on work done by myself jointly with others, I have made clear exactly what was done by others and what I have contributed myself.\\
%		\end{itemize}
%		

	\end{declaration}
	
	\cleardoublepage
	
	%----------------------------------------------------------------------------------------
	
\end{document}  
